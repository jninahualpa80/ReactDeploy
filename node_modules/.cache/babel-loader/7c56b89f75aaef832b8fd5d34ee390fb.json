{"ast":null,"code":"import _regeneratorRuntime from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var BASE_URL='http://localhost:3001';var delay=function delay(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};var randomNumber=function randomNumber(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return Math.floor(Math.random()*(max-min+1))+min;};var simulateNetworkLatency=function simulateNetworkLatency(){var min=arguments.length>0&&arguments[0]!==undefined?arguments[0]:30;var max=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1500;return delay(randomNumber(min,max));};function callApi(_x){return _callApi.apply(this,arguments);}function _callApi(){_callApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(endpoint){var options,url,response,data,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options=_args.length>1&&_args[1]!==undefined?_args[1]:{};_context.next=3;return simulateNetworkLatency();case 3:options.headers={'Content-Type':'application/json',Accept:'application/json'};url=BASE_URL+endpoint;_context.next=7;return fetch(url,options);case 7:response=_context.sent;_context.next=10;return response.json();case 10:data=_context.sent;return _context.abrupt(\"return\",data);case 12:case\"end\":return _context.stop();}}},_callee);}));return _callApi.apply(this,arguments);}var api={badges:{list:function list(){return callApi('/badges');},create:function create(badge){// throw new Error('500: Server error');\nreturn callApi(\"/badges\",{method:'POST',body:JSON.stringify(badge)});},read:function read(badgeId){return callApi(\"/badges/\".concat(badgeId));},update:function update(badgeId,updates){return callApi(\"/badges/\".concat(badgeId),{method:'PUT',body:JSON.stringify(updates)});},// Lo hubiera llamado `delete`, pero `delete` es un keyword en JavaScript asi que no es buena idea :P\nremove:function remove(badgeId){return callApi(\"/badges/\".concat(badgeId),{method:'DELETE'});}}};export default api;","map":{"version":3,"sources":["/home/juanjo/Documents/react-deploy/ReactApp.github.io/src/api.js"],"names":["BASE_URL","delay","ms","Promise","resolve","setTimeout","randomNumber","min","max","Math","floor","random","simulateNetworkLatency","callApi","endpoint","options","headers","Accept","url","fetch","response","json","data","api","badges","list","create","badge","method","body","JSON","stringify","read","badgeId","update","updates","remove"],"mappings":"uVAAA,GAAMA,CAAAA,QAAQ,CAAG,uBAAjB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAAAC,EAAE,QAAI,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,OAAO,QAAIC,CAAAA,UAAU,CAACD,OAAD,CAAUF,EAAV,CAAd,EAAnB,CAAJ,EAAhB,CACA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAACC,CAAAA,GAAD,2DAAO,CAAP,IAAUC,CAAAA,GAAV,2DAAgB,CAAhB,OACnBC,CAAAA,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBH,GAAG,CAAGD,GAAN,CAAY,CAA7B,CAAX,EAA8CA,GAD3B,EAArB,CAEA,GAAMK,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,MAACL,CAAAA,GAAD,2DAAO,EAAP,IAAWC,CAAAA,GAAX,2DAAiB,IAAjB,OAC7BP,CAAAA,KAAK,CAACK,YAAY,CAACC,GAAD,CAAMC,GAAN,CAAb,CADwB,EAA/B,C,QAGeK,CAAAA,O,iIAAf,iBAAuBC,QAAvB,gKAAiCC,OAAjC,+CAA2C,EAA3C,uBACQH,CAAAA,sBAAsB,EAD9B,QAGEG,OAAO,CAACC,OAAR,CAAkB,CAChB,eAAgB,kBADA,CAEhBC,MAAM,CAAE,kBAFQ,CAAlB,CAKMC,GARR,CAQclB,QAAQ,CAAGc,QARzB,uBASyBK,CAAAA,KAAK,CAACD,GAAD,CAAMH,OAAN,CAT9B,QASQK,QATR,sCAUqBA,CAAAA,QAAQ,CAACC,IAAT,EAVrB,SAUQC,IAVR,+CAYSA,IAZT,yD,0CAeA,GAAMC,CAAAA,GAAG,CAAG,CACVC,MAAM,CAAE,CACNC,IADM,gBACC,CACL,MAAOZ,CAAAA,OAAO,CAAC,SAAD,CAAd,CACD,CAHK,CAINa,MAJM,iBAICC,KAJD,CAIQ,CACZ;AACA,MAAOd,CAAAA,OAAO,WAAY,CACxBe,MAAM,CAAE,MADgB,CAExBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAFkB,CAAZ,CAAd,CAID,CAVK,CAWNK,IAXM,eAWDC,OAXC,CAWQ,CACZ,MAAOpB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAd,CACD,CAbK,CAcNC,MAdM,iBAcCD,OAdD,CAcUE,OAdV,CAcmB,CACvB,MAAOtB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAuB,CACnCL,MAAM,CAAE,KAD2B,CAEnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeI,OAAf,CAF6B,CAAvB,CAAd,CAID,CAnBK,CAoBN;AACAC,MArBM,iBAqBCH,OArBD,CAqBU,CACd,MAAOpB,CAAAA,OAAO,mBAAYoB,OAAZ,EAAuB,CACnCL,MAAM,CAAE,QAD2B,CAAvB,CAAd,CAGD,CAzBK,CADE,CAAZ,CA8BA,cAAeL,CAAAA,GAAf","sourcesContent":["const BASE_URL = 'http://localhost:3001';\n\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst randomNumber = (min = 0, max = 1) =>\n  Math.floor(Math.random() * (max - min + 1)) + min;\nconst simulateNetworkLatency = (min = 30, max = 1500) =>\n  delay(randomNumber(min, max));\n\nasync function callApi(endpoint, options = {}) {\n  await simulateNetworkLatency();\n\n  options.headers = {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  };\n\n  const url = BASE_URL + endpoint;\n  const response = await fetch(url, options);\n  const data = await response.json();\n\n  return data;\n}\n\nconst api = {\n  badges: {\n    list() {\n      return callApi('/badges');\n    },\n    create(badge) {\n      // throw new Error('500: Server error');\n      return callApi(`/badges`, {\n        method: 'POST',\n        body: JSON.stringify(badge),\n      });\n    },\n    read(badgeId) {\n      return callApi(`/badges/${badgeId}`);\n    },\n    update(badgeId, updates) {\n      return callApi(`/badges/${badgeId}`, {\n        method: 'PUT',\n        body: JSON.stringify(updates),\n      });\n    },\n    // Lo hubiera llamado `delete`, pero `delete` es un keyword en JavaScript asi que no es buena idea :P\n    remove(badgeId) {\n      return callApi(`/badges/${badgeId}`, {\n        method: 'DELETE',\n      });\n    },\n  },\n};\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}