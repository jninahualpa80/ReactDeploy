{"ast":null,"code":"import _regeneratorRuntime from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/juanjo/Documents/react-deploy/ReactApp.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import PageLoading from\"../components/PageLoading\";import PageError from\"../components/PageError\";import Api from\"../api\";import BadgeDetails from\"./BadgeDetails\";import api from\"../api\";var BadgeDetailsContainer=/*#__PURE__*/function(_React$Component){_inherits(BadgeDetailsContainer,_React$Component);var _super=_createSuper(BadgeDetailsContainer);function BadgeDetailsContainer(){var _this;_classCallCheck(this,BadgeDetailsContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,error:null,data:undefined,modalIsOpen:false};_this.handleOpenModal=function(e){_this.setState({modalIsOpen:true});};_this.handleCloseModal=function(e){_this.setState({modalIsOpen:false});};_this.handleDeleteBadge=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true,error:null});_context.prev=1;_context.next=4;return api.badges.remove(_this.props.match.params.badgeId);case 4:_this.setState({loading:false});_this.props.history.push(\"/badges\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);_this.setState({loading:false,error:_context.t0});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.fetchData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({loading:true,error:null});_context2.prev=1;_context2.next=4;return Api.badges.read(_this.props.match.params.badgeId);case 4:data=_context2.sent;_this.setState({loading:false,data:data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);_this.setState({loading:false,error:_context2.t0});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return _this;}_createClass(BadgeDetailsContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"render\",value:function render(){if(this.state.loading){return/*#__PURE__*/React.createElement(PageLoading,null);}if(this.state.error){return/*#__PURE__*/React.createElement(PageError,{error:this.state.error});}var badge=this.state.data;return/*#__PURE__*/React.createElement(BadgeDetails,{onCloseModal:this.handleCloseModal,onOpenModal:this.handleOpenModal,modalIsOpen:this.state.modalIsOpen,badge:badge,onDeleteBadge:this.handleDeleteBadge});}}]);return BadgeDetailsContainer;}(React.Component);export default BadgeDetailsContainer;","map":{"version":3,"sources":["/home/juanjo/Documents/react-deploy/ReactApp.github.io/src/pages/BadgeDetailsContainer.js"],"names":["React","PageLoading","PageError","Api","BadgeDetails","api","BadgeDetailsContainer","state","loading","error","data","undefined","modalIsOpen","handleOpenModal","e","setState","handleCloseModal","handleDeleteBadge","badges","remove","props","match","params","badgeId","history","push","fetchData","read","badge","Component"],"mappings":"2/BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,GAAP,KAAgB,QAAhB,C,GAEMC,CAAAA,qB,mYACJC,K,CAAQ,CACNC,OAAO,CAAE,IADH,CAENC,KAAK,CAAE,IAFD,CAGNC,IAAI,CAAEC,SAHA,CAINC,WAAW,CAAE,KAJP,C,OAWRC,e,CAAkB,SAACC,CAAD,CAAO,CACvB,MAAKC,QAAL,CAAc,CAAEH,WAAW,CAAE,IAAf,CAAd,EACD,C,OAEDI,gB,CAAmB,SAACF,CAAD,CAAO,CACxB,MAAKC,QAAL,CAAc,CAAEH,WAAW,CAAE,KAAf,CAAd,EACD,C,OAEDK,iB,0FAAoB,iBAAOH,CAAP,kHAClB,MAAKC,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAiBC,KAAK,CAAE,IAAxB,CAAd,EADkB,sCAGVJ,CAAAA,GAAG,CAACa,MAAJ,CAAWC,MAAX,CAAkB,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAA1C,CAHU,QAIhB,MAAKR,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAd,EACA,MAAKY,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EALgB,+EAOhB,MAAKV,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAkBC,KAAK,YAAvB,CAAd,EAPgB,oE,qEAWpBiB,S,sEAAY,iJACV,MAAKX,QAAL,CAAc,CAAEP,OAAO,CAAE,IAAX,CAAiBC,KAAK,CAAE,IAAxB,CAAd,EADU,wCAIWN,CAAAA,GAAG,CAACe,MAAJ,CAAWS,IAAX,CAAgB,MAAKP,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxC,CAJX,QAIFb,IAJE,gBAKR,MAAKK,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAkBE,IAAI,CAAEA,IAAxB,CAAd,EALQ,mFAOR,MAAKK,QAAL,CAAc,CAAEP,OAAO,CAAE,KAAX,CAAkBC,KAAK,aAAvB,CAAd,EAPQ,sE,gHAvBQ,CAClB,KAAKiB,SAAL,GACD,C,uCAgCQ,CACP,GAAI,KAAKnB,KAAL,CAAWC,OAAf,CAAwB,CACtB,mBAAO,oBAAC,WAAD,MAAP,CACD,CAED,GAAI,KAAKD,KAAL,CAAWE,KAAf,CAAsB,CACpB,mBAAO,oBAAC,SAAD,EAAW,KAAK,CAAE,KAAKF,KAAL,CAAWE,KAA7B,EAAP,CACD,CAED,GAAMmB,CAAAA,KAAK,CAAG,KAAKrB,KAAL,CAAWG,IAAzB,CAEA,mBACE,oBAAC,YAAD,EACE,YAAY,CAAE,KAAKM,gBADrB,CAEE,WAAW,CAAE,KAAKH,eAFpB,CAGE,WAAW,CAAE,KAAKN,KAAL,CAAWK,WAH1B,CAIE,KAAK,CAAEgB,KAJT,CAKE,aAAa,CAAE,KAAKX,iBALtB,EADF,CASD,C,mCA9DiCjB,KAAK,CAAC6B,S,EAiE1C,cAAevB,CAAAA,qBAAf","sourcesContent":["import React from \"react\";\nimport PageLoading from \"../components/PageLoading\";\nimport PageError from \"../components/PageError\";\nimport Api from \"../api\";\nimport BadgeDetails from \"./BadgeDetails\";\nimport api from \"../api\";\n\nclass BadgeDetailsContainer extends React.Component {\n  state = {\n    loading: true,\n    error: null,\n    data: undefined,\n    modalIsOpen: false,\n  };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  handleOpenModal = (e) => {\n    this.setState({ modalIsOpen: true });\n  };\n\n  handleCloseModal = (e) => {\n    this.setState({ modalIsOpen: false });\n  };\n\n  handleDeleteBadge = async (e) => {\n    this.setState({ loading: true, error: null });\n    try {\n      await api.badges.remove(this.props.match.params.badgeId);\n      this.setState({ loading: false });\n      this.props.history.push(\"/badges\");\n    } catch (error) {\n      this.setState({ loading: false, error: error });\n    }\n  };\n\n  fetchData = async () => {\n    this.setState({ loading: true, error: null });\n\n    try {\n      const data = await Api.badges.read(this.props.match.params.badgeId);\n      this.setState({ loading: false, data: data });\n    } catch (error) {\n      this.setState({ loading: false, error: error });\n    }\n  };\n\n  render() {\n    if (this.state.loading) {\n      return <PageLoading />;\n    }\n\n    if (this.state.error) {\n      return <PageError error={this.state.error} />;\n    }\n\n    const badge = this.state.data;\n\n    return (\n      <BadgeDetails\n        onCloseModal={this.handleCloseModal}\n        onOpenModal={this.handleOpenModal}\n        modalIsOpen={this.state.modalIsOpen}\n        badge={badge}\n        onDeleteBadge={this.handleDeleteBadge}\n      />\n    );\n  }\n}\n\nexport default BadgeDetailsContainer;\n"]},"metadata":{},"sourceType":"module"}